<!DOCTYPE html>
<html>
    <head>
        <title>My program</title>
        <meta charset="utf-8">
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
        <style>
            button{
                height: 200px;
                width: 200px;
                border-radius: 100px;
                font-size: 50px;
                font-family: 'Comic Sans MS';
                background: white;
                border: 4px solid black;
            }
            img{
                height: 500px;
            }
        </style>
    </head>
    <body>
        <center>
            <h1 id="message">Требуется включить звук!</h1>
            <img id="image" src="https://st.depositphotos.com/2131499/3645/v/450/depositphotos_36455017-stock-illustration-hazard-warning-attention-sign-with.jpg"/>
            <br/>
            <button id="startButton">Start</button>
        </center>

        
        <script>

            let flag = true

            if (!'speechSynthesis' in window){
                alert("Ууупс, не работает :(");
            }
            $('#startButton').click(()=>{
                let images = [  "https://lifeo.ru/wp-content/uploads/s-dnem-rozhdeniya-muzhchine-4.gif",
                                "https://www.davno.ru/assets/images/cards/big/birthday-1214.gif",
                                "https://www.davno.ru/assets/images/cards/big/birthday-1261.gif",
                                "https://www.davno.ru/assets/images/cards/big/birthday-1067.gif",
                                "https://myhohmas.ru/wp-content/uploads/2018/02/pozdravlenie-ot-zebry.jpg",
                                "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRETvaSRHw53lPwpKGTXPHXScHH82hw5x6kuA&usqp=CAU",
                                "https://mirpozitiva.ru/wp-content/uploads/2019/11/1542716107_5.gif"]
                
                let currentImageNumber = 0

                if(flag){
                    let  msg = new SpeechSynthesisUtterance('Здравствуй, друг! И хоть я и нахожусь за 3823 километра 600 метров, но я все равно хочу поздравить тебя с днем рождения! Пусть в этот день сбудутся все твои мечты! Желаю счастья, здоровье и побольше позитива! Оставайся таким же классным другом! Не забывай, нужна будет помощь, я всегда готов! С днём рождения!');
                    window.speechSynthesis.speak(msg);
                    $('#image').attr('src',images[currentImageNumber])
                    currentImageNumber++
                    let timer = setInterval(()=>{
                        console.log('+')
                        $('#image').attr('src',images[currentImageNumber])
                        currentImageNumber++
                        if(currentImageNumber == 7)
                            clearInterval(timer)
                    },4000)
                }
                flag = false
                $('#startButton').remove()
                $('#message').remove()
            })
            
        </script>
    </body>
</html>
